csor-orchestration-provision-dev-plan:
  deployer: terraform
  deployer_opts:
    aws_account: dev-bt-csor-orchestration
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/dev.s3.tfbackend
        - -chdir=infrastructure validate
      deploy:
        - -chdir=infrastructure plan -var-file=tfvars/dev.tfvars

csor-orchestration-provision-dev:
  deployer: terraform
  deployer_opts:
    aws_account: dev-bt-csor-orchestration
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/dev.s3.tfbackend
        - -chdir=infrastructure validate
      dry_run:
        - -chdir=infrastructure plan -var-file=tfvars/dev.tfvars
      deploy:
        - -chdir=infrastructure apply -var-file=tfvars/dev.tfvars -auto-approve

csor-orchestration-provision-qa:
  deployer: terraform
  deployer_opts:
    aws_account: qa-bt-csor-orchestration
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/qa.s3.tfbackend
        - -chdir=infrastructure validate
      dry_run:
        - -chdir=infrastructure plan -var-file=tfvars/qa.tfvars
      deploy:
        - -chdir=infrastructure apply -var-file=tfvars/qa.tfvars -auto-approve

csor-orchestration-provision-tenant-dev:
  deployer: terraform
  deployer_opts:
    aws_account: csor-orchestration-tenant-dev
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/tenant-dev.s3.tfbackend
        - -chdir=infrastructure validate
      dry_run:
        - -chdir=infrastructure plan -var-file=tfvars/tenant-dev.tfvars
      deploy:
        - -chdir=infrastructure apply -var-file=tfvars/tenant-dev.tfvars -auto-approve

csor-orchestration-provision-tenant-qa:
  deployer: terraform
  deployer_opts:
    aws_account: csor-orchestration-tenant-qa
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/tenant-qa.s3.tfbackend
        - -chdir=infrastructure validate
      dry_run:
        - -chdir=infrastructure plan -var-file=tfvars/tenant-qa.tfvars
      deploy:
        - -chdir=infrastructure apply -var-file=tfvars/tenant-qa.tfvars -auto-approve

csor-orchestration-provision-tenant-sand:
  deployer: terraform
  deployer_opts:
    aws_account: csor-orchestration-tenant-sand
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/tenant-sand.s3.tfbackend
        - -chdir=infrastructure validate
      dry_run:
        - -chdir=infrastructure plan -var-file=tfvars/tenant-sand.tfvars
      deploy:
        - -chdir=infrastructure apply -var-file=tfvars/tenant-sand.tfvars -auto-approve

csor-orchestration-provision-tenant-prod:
  deployer: terraform
  deployer_opts:
    aws_account: csor-orchestration-tenant-prod
    commands:
      init:
        - -chdir=infrastructure init -backend-config=tfvars/tenant-prod.s3.tfbackend
        - -chdir=infrastructure validate
      dry_run:
        - -chdir=infrastructure plan -var-file=tfvars/tenant-prod.tfvars
      deploy:
        - -chdir=infrastructure apply -var-file=tfvars/tenant-prod.tfvars -auto-approve
